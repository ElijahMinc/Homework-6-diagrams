(this.webpackJsonphomework6=this.webpackJsonphomework6||[]).push([[0],{230:function(e,t,a){},231:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(39),s=a.n(r),o=a(24),i=a(23),u=a(3),l=a(22),d=a(7),j=a(57),b=a.n(j),p=a(92),h=a(93),f=a.n(h),O="https://datausa.io/api/data",x="drilldowns",g="measures",v="State",S="Year",m="Population",_="GET_REPOSE",y="CHANGE_FETCH",k="SET_CURRENT_DATA_USA",N=function(e){return{type:y,payload:e}},C=function(e){return{type:k,payload:e.reverse().splice(0,6)}},V=function(e){return{type:_,payload:e}},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return function(){var n=Object(p.a)(b.a.mark((function n(c){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("".concat(e,"?").concat(x,"=").concat(t,"&").concat(g,"=").concat(a)),n.next=3,f()("".concat(e,"?").concat(x,"=").concat(t,"&").concat(g,"=").concat(a)).then((function(e){c(N(!0)),c(V(e.data.data))})).catch((function(e){return console.log(e)}));case 3:c(N(!1));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(e,t){return{height:200,data:{labels:e.map((function(e){return e.Year})),datasets:[{label:t,data:e.map((function(e){return e.Population})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},plugins:{legend:{labels:{font:{size:14}}}}}}},Y=a(1),D=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.reposReducer})).datausa.map((function(e){return e})).reverse().slice(0,6),a=E(t,"Statistics USA"),n=a.height,r=a.data,s=a.options;return c.a.useEffect((function(){e(A(O))}),[]),Object(Y.jsx)("div",{className:"chart",children:Object(Y.jsx)(l.a,{height:n,data:r,options:s})})},U=c.a.createContext(),w=function(e,t,a){return e.filter((function(e){return e[a]===t}))},R=a(94),H=a.n(R),F=function(e){var t=e.sortDataUSA,a=e.sortDataYears,n=e.id,r=e.selectValue,s=c.a.useContext(U),o=s.getValueSelect,i=s.refSelectYear,u=1===n?"Select State":"Select Year";return Object(Y.jsxs)("select",{defaultValue:u,"data-id":n,onChange:function(e){return o(e,r)},className:H.a.select,ref:i,children:[Object(Y.jsx)("option",{disabled:!0,children:u}),t&&t.map((function(e,t){return Object(Y.jsx)("option",{value:e.State,"data-id":e["ID State"],children:e.State},t)})),a&&a.map((function(e,t){return Object(Y.jsx)("option",{value:e,children:e},t)}))]})},I=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.reposReducer})),a=t.datausa,n=t.currentDataUsa,r=c.a.useContext(U).selectValueState,s=E(n,r),o=s.height,i=s.data,u=s.options;return c.a.useEffect((function(){e(A(O,v))}),[]),c.a.useEffect((function(){e(C(w(a,r,"State")))}),[a,r]),console.log(n),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(F,{id:1,sortDataUSA:a,selectValue:"state"}),Object(Y.jsx)("div",{className:"chart",children:Object(Y.jsx)(l.a,{height:o,data:i,options:u})})]})},P=a(5),T=[{path:"/",exact:!0,component:D},{path:"/states",exact:!0,component:I},{path:"/statesyears",exact:!0,component:function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.reposReducer})),a=t.datausa,n=t.currentDataUsa,r=c.a.useContext(U).selectValueState,s=Object(P.a)(new Set(a.map((function(e){return e.Year})))).reverse().splice(0,6),o=E(n,r),i=o.height,u=o.data,j=o.options;return c.a.useEffect((function(){e(A(O,v))}),[]),c.a.useEffect((function(){e(C(w(a,r,"State")))}),[a,r]),Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:"selects",children:[Object(Y.jsx)(F,{id:1,sortDataUSA:a,selectValue:"state",dataUSA:a}),Object(Y.jsx)(F,{id:2,sortDataYears:s,currentState:n,dataUSA:a,selectValue:"year"})]}),Object(Y.jsx)("div",{className:"chart",children:Object(Y.jsx)(l.a,{height:i,data:u,options:j})})]})}},{path:"*",exact:!0,component:D}],G=a(25),M=a.n(G),q=function(){var e=c.a.useContext(U).setSelectValueState;return Object(Y.jsx)("div",{className:M.a.header,children:Object(Y.jsxs)("nav",{className:M.a.nav,children:[Object(Y.jsx)(i.b,{to:"/",className:M.a.header__link,onClick:function(){return e([])},children:Object(Y.jsx)("p",{children:"Home"})}),Object(Y.jsx)(i.b,{to:"/states",className:M.a.header__link,onClick:function(){return e([])},children:Object(Y.jsx)("p",{children:"States"})}),Object(Y.jsx)(i.b,{to:"/statesyears",onClick:function(){return e([])},className:M.a.header__link,children:Object(Y.jsx)("p",{children:"States and Years"})})]})})},J=a(95),z=a.n(J),B=a(60),K=a.n(B),W=a.p+"static/media/preload.24d855d3.svg",Z=function(){return Object(Y.jsx)("div",{className:K.a.preloader,children:Object(Y.jsx)("div",{className:K.a.preloader__wrapper,children:Object(Y.jsx)("img",{src:W,alt:"preloader"})})})},L=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.reposReducer})),a=t.datausa,n=t.isFetching,r=c.a.useState(""),s=Object(o.a)(r,2),l=s[0],j=s[1],b=c.a.useState(""),p=Object(o.a)(b,2),h=p[0],f=p[1],O=c.a.useState(""),x=Object(o.a)(O,2),g=x[0],v=x[1],S=c.a.useRef();return Object(Y.jsx)(U.Provider,{value:{selectValueState:l,setSelectValueState:j,selectValueYear:h,setSelectValueYear:f,refSelectYear:S,getValueSelect:function(t,n){var c=t.target;if("state"===n){var r=S.current.options[0],s=c.selectedIndex,o=c.options[s].dataset.id;v(o),j(t.target.value),S.current.value=r.value}else if("year"===n){var i=a.filter((function(e){return e.Year===c.value&&e["ID State"]===g}));console.log(i),e(C(i))}}},children:Object(Y.jsxs)(i.a,{children:[Object(Y.jsx)(q,{}),n&&Object(Y.jsx)(Z,{}),Object(Y.jsx)("div",{className:z.a.app,children:Object(Y.jsx)(u.c,{children:T.map((function(e,t){var a=e.exact,n=e.path,c=e.component;return Object(Y.jsx)(u.a,{exact:a,path:n,component:c},t)}))})})]})})},Q=a(29),X=a(11),$={datausa:[],currentDataUsa:[],isFetching:!0},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(X.a)(Object(X.a)({},e),{},{datausa:t.payload,isFetching:!1});case k:return Object(X.a)(Object(X.a)({},e),{},{currentDataUsa:t.payload});case y:return Object(X.a)(Object(X.a)({},e),{},{isFetching:t.payload});default:return e}},te=Object(Q.b)({reposReducer:ee}),ae=a(96),ne=(a(230),Object(Q.c)(te,Object(Q.a)((function(e){return function(t){return function(a){return console.log("Middleware",e.getState()),t(a)}}}),ae.a))),ce=Object(Y.jsx)(d.a,{store:ne,children:Object(Y.jsx)(L,{})}),re=document.getElementById("root");s.a.render(Object(Y.jsx)(n.StrictMode,{children:ce}),re)},25:function(e,t,a){e.exports={header:"Header_header__3hsYt",nav:"Header_nav__3bee1",header__link:"Header_header__link__2-4nq"}},60:function(e,t,a){e.exports={preloader:"Preloader_preloader__1IiOm"}},94:function(e,t,a){e.exports={select:"Select_select__1SKdM"}},95:function(e,t,a){e.exports={app:"App_app__1GHtq"}}},[[231,1,2]]]);
//# sourceMappingURL=main.37e26989.chunk.js.map